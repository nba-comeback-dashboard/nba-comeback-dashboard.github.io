
<!DOCTYPE html>


<html lang="en" data-content_root="../" data-theme="light">

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Using Claude Code to AI Auto-Generate This Site &#8212; NBA Comeback Dashboard  documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "light";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../_static/css/colored_boxes.css?v=5ae21e15" />
    <link rel="stylesheet" type="text/css" href="../_static/css/nbacd.css?v=6589ad6a" />
    <link rel="stylesheet" type="text/css" href="../_static/css/nbacd-media.css?v=6b9690a2" />
    <link rel="stylesheet" type="text/css" href="../_static/css/nbacd-dashboard.css?v=5fbb978c" />
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/basicLightbox/5.0.0/basicLightbox.min.css" />
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.14.0-beta3/dist/css/bootstrap-select.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/colored_boxes.css?v=5ae21e15" />
    <link rel="stylesheet" type="text/css" href="../_static/css/pydata-customizations.css?v=1a338c58" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-6Q6K588YXL"></script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-6Q6K588YXL');
            </script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'analysis/using_claude_code';</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.umd.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/hammer.js/2.0.8/hammer.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chartjs-plugin-zoom/2.2.0/chartjs-plugin-zoom.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pako/2.1.0/pako.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/basicLightbox/5.0.0/basicLightbox.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mathjs@11.8.0/lib/browser/math.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/fmin@0.0.4/build/fmin.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.14.0-beta3/dist/js/bootstrap-select.min.js"></script>
    <script src="../_static/js/nbacd_utils.js?v=515b643b"></script>
    <script src="../_static/js/nbacd_saveas_image_dialog.js?v=e8366de8"></script>
    <script src="../_static/js/nbacd_plotter_plugins.js?v=128a7319"></script>
    <script src="../_static/js/nbacd_dashboard_num.js?v=3c327ede"></script>
    <script src="../_static/js/nbacd_plotter_data.js?v=54759950"></script>
    <script src="../_static/js/nbacd_plotter_core.js?v=1a8e4ff7"></script>
    <script src="../_static/js/nbacd_plotter_ui.js?v=1e026115"></script>
    <script src="../_static/js/nbacd_chart_loader.js?v=4225c571"></script>
    <script src="../_static/js/nbacd_dashboard_season_game_loader.js?v=c37d4940"></script>
    <script src="../_static/js/nbacd_dashboard_plot_primitives.js?v=4160a574"></script>
    <script src="../_static/js/nbacd_dashboard_api.js?v=ee1e5ad8"></script>
    <script src="../_static/js/nbacd_dashboard_state.js?v=f076e384"></script>
    <script src="../_static/js/nbacd_dashboard_ui.js?v=67074b87"></script>
    <script src="../_static/js/nbacd_dashboard_init.js?v=4612a8d0"></script>
    <link rel="icon" href="../_static/bball.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="About" href="about.html" />
    <link rel="prev" title="Comebacks For @ Away Plays MIN v. Comebacks For @ Home Plays MIN" href="plots/recent_min_gives_away_leads_at_home_versus_away.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="light">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
  
    <p class="title logo__title">NBA Comeback Dashboard</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item current active">
  <a class="nav-link nav-internal" href="index.html">
    Analysis
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../dashboard/index.html">
    Dashboard
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          
          <a href="https://buymeacoffee.com/nba.comeback.dashboard" title="Buy Me a Coffee" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><img src="../_static/icons/buy-me-coffee.svg" class="icon-link-image" alt="Buy Me a Coffee"/></a>
        </li>
</ul></div>
      
        <div class="navbar-item">

<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button></div>
      
    </div>
    
  </div>
  
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar hide-on-wide">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item current active">
  <a class="nav-link nav-internal" href="index.html">
    Analysis
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../dashboard/index.html">
    Dashboard
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          
          <a href="https://buymeacoffee.com/nba.comeback.dashboard" title="Buy Me a Coffee" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><img src="../_static/icons/buy-me-coffee.svg" class="icon-link-image" alt="Buy Me a Coffee"/></a>
        </li>
</ul></div>
        
          <div class="navbar-item">

<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button></div>
        
      </div>
    
  </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">Analysis</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Using Claude Code to AI Auto-Generate This Site</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="using-claude-code-to-ai-auto-generate-this-site">
<h1>Using Claude Code to AI Auto-Generate This Site<a class="headerlink" href="#using-claude-code-to-ai-auto-generate-this-site" title="Link to this heading">#</a></h1>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#using-claude-code-to-write-this-website" id="id3">Using Claude Code to Write This Website</a></p></li>
<li><p><a class="reference internal" href="#vibe-coding-the-front-end" id="id4">Vibe Coding the Front End</a></p></li>
<li><p><a class="reference internal" href="#creating-the-interactive-dashboard-via-python-to-javascript-translation" id="id5">Creating the Interactive Dashboard Via Python To JavaScript Translation</a></p></li>
<li><p><a class="reference internal" href="#some-notes-thoughts" id="id6">Some Notes / Thoughts</a></p></li>
</ul>
</nav>
<section id="using-claude-code-to-write-this-website">
<span id="using-claude-code-for-development"></span><h2><a class="toc-backref" href="#id3" role="doc-backlink">Using Claude Code to Write This Website</a><a class="headerlink" href="#using-claude-code-to-write-this-website" title="Link to this heading">#</a></h2>
<div class="box-container green-box docutils container">
<p>You can explore the complete source code for this project at
<a class="reference external" href="https://github.com/nba-comeback-dashboard/nba-comeback-dashboard">github.com/nba-comeback-dashboard/nba-comeback-dashboard</a>, which
includes all the Claude-assisted JavaScript implementation found in the site’s
<cite>/_static/</cite> directory.</p>
<p>If you have any thoughts or advice or feedback, please feel free to <a class="reference external" href="mailto:nba&#46;comeback&#46;dashboard&#37;&#52;&#48;gmail&#46;com">drop me a line</a>.</p>
</div>
<p>I used the AI coding agent Claude Code to code major sections of this website. By no
means all of this website, and I <a class="reference external" href="https://www.reddit.com/r/ClaudeAI/comments/1enle9c/can_someone_explain_how_to_actually_use_claude/">for sure didn’t just give it a rough outline and let
it figure out the rest</a></p>
<p>Previously, I had never used AI for anything large scale. At work, we are not currently
allowed to use AI systems with our codebase or any company data – so basically, not
much to work with. So when I got talking to another programmer friend about downloading
this NBA data and running some quick one-off Python scripts against it, he had the idea
of using AI to build out a front-end tool.</p>
<p>When I started at the beginning of March 2025, Claude Code was newly released and,
<a class="reference external" href="https://waleedk.medium.com/claude-code-top-tips-lessons-from-the-first-20-hours-246032b943b4">like others</a>,
it didn’t take me long to settle on using it over Cursor or Copilot. Agentic/agent-
based AI code systems are newly emerging and Claude Code seems to be the state of the
art of these approaches.  And with a price tag of 10 to 100x over other options, you
pay for this extra power. To boot, I really like that it’s a REPL as opposed to having
it integrated in an IDE.  (And recently, after I finished this project up, Open AI has
<a class="reference external" href="https://openai.com/index/openai-codex/">released CodeX which takes a similar tack – something I’m checking out next</a>).</p>
<p>Overall, I settled on a hybrid project where I wrote most of the Python myself for the
data processing and <a class="reference external" href="https://zapier.com/blog/vibe-coding/">tried my hand at vibe coding</a> for the JavaScript front-end UI using Claude Code.</p>
<p>In broad strokes, I:</p>
<ul class="simple">
<li><p>Downloaded the games using <a class="reference external" href="https://github.com/nba-comeback-dashboard/nba-comeback-dashboard/blob/main/python_backend/form_json_season_data/form_nba_game_sqlite_database.py">the nba_api.stats package</a>
and stored that data in an SQLite database I could more quickly iterate upon. Then, I
converted all the data I needed for each game into reduced data structures and stored
them in JSON files, one for each season.</p></li>
<li><p>Wrote the code that can read those season JSON files and process the NBA
play-by-play game data in Python. This Python code would, based on various
conditions, form the necessary data structures, run the statistical processing code,
and then create structured chart JSON files that contained everything needed to make
a plot (including titles, axis labels, hover point data, etc.).</p></li>
<li><p>Used Claude to write a
<a class="reference external" href="https://www.chartjs.org/">chart.js</a> front-end that could plot these JSON data
files, add the hover boxes, add the custom full screen mode (using <a class="reference external" href="https://basiclightbox.electerious.com/">basicLightbox</a>) and everything you see when you interact
with a chart. I did jump in regularly to fix this and change basic code architecture,
but <a class="reference internal" href="#vibe-coding-the-front-end"><span class="std std-ref">mostly I let Claude do the work via prompts</span></a>.</p></li>
<li><p>Then, asked Claude Code <a class="reference internal" href="#creating-the-interactive-dashboard"><span class="std std-ref">to convert my analysis Python
code</span></a> so the game processing could happen in
the browser to build the <a class="reference internal" href="../dashboard/index.html"><span class="doc">dashboard</span></a>.  This includes
converting some fairly involved numpy/scipy number crunching code so in the browser
we can perform <a class="reference internal" href="methodology_forming_the_plot_trend_lines.html"><span class="doc">probit regression using maximum likelihood estimation running a
gradient descent fmin algorithm</span></a>.</p></li>
<li><p>Then, I again vibe coded the dashboard bootstrap form UI that allows users to set up
the conditions they want to analyze to run the dashboard. And once I got all that
working, used Claude to get it working as best I could on mobile devices.</p></li>
</ul>
</section>
<section id="vibe-coding-the-front-end">
<span id="id1"></span><h2><a class="toc-backref" href="#id4" role="doc-backlink">Vibe Coding the Front End</a><a class="headerlink" href="#vibe-coding-the-front-end" title="Link to this heading">#</a></h2>
<p>After I had my Python scripts churning out my chart JSON data files, I wanted to use
Claude to write a JavaScript front-end. To start, I did poke around on the internet and
figure out which packages I wanted to use. Once settled after a few very small
prototypes, I asked Claude to help me make a Chart.js chart and it took very little
time to be up and running. Claude, being one of the best <a class="reference external" href="https://blogs.nvidia.com/blog/what-is-agentic-ai/">agentic agents</a>, does things like use grep and
other shell commands to figure out what it’s looking at. I very lightly sketched out
the JSON format to the tool and it figured the rest out on its own.</p>
<p>After I had a basic plot working, I then briefly described how I wanted to create hover
boxes that appear when the user presses on a datapoint on the line:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">You</span><span class="s1">&#39;ll notice in the JSON file that there are Point Margin, Win %, Win Game Count,</span>
<span class="n">Game</span> <span class="n">Count</span><span class="p">,</span> <span class="n">Occurrence</span> <span class="o">%</span><span class="p">,</span> <span class="ow">and</span> <span class="n">also</span> <span class="n">a</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">win</span> <span class="n">games</span> <span class="ow">and</span> <span class="n">loss</span> <span class="n">games</span> <span class="n">along</span> <span class="k">with</span> <span class="n">some</span>
<span class="n">data</span> <span class="k">for</span> <span class="n">each</span> <span class="n">game</span><span class="o">.</span> <span class="n">I</span> <span class="n">want</span> <span class="n">the</span> <span class="n">hover</span> <span class="n">box</span> <span class="n">to</span> <span class="n">look</span> <span class="n">something</span> <span class="n">like</span> <span class="p">(</span><span class="ow">and</span> <span class="n">these</span> <span class="n">are</span>
<span class="n">example</span> <span class="n">numbers</span><span class="p">):</span>

<span class="n">Point</span> <span class="n">Margin</span><span class="p">:</span> <span class="o">-</span><span class="mi">23</span>
<span class="n">Wins</span><span class="p">:</span> <span class="mi">81</span> <span class="n">out</span> <span class="n">of</span> <span class="mi">3028</span> <span class="n">Total</span> <span class="n">Games</span>
<span class="n">Win</span> <span class="o">%</span><span class="p">:</span> <span class="mf">2.67</span>
<span class="n">Occurs</span> <span class="o">%</span><span class="p">:</span> <span class="mf">31.81</span>
<span class="n">Win</span> <span class="n">examples</span><span class="p">:</span>
  <span class="mi">04</span><span class="o">/</span><span class="mi">08</span><span class="o">/</span><span class="mi">2022</span> <span class="n">HOU</span><span class="p">(</span><span class="mi">30</span><span class="n">th</span><span class="o">/</span><span class="mf">0.244</span><span class="p">)</span> <span class="o">@</span> <span class="n">TOR</span><span class="p">(</span><span class="mi">10</span><span class="n">th</span><span class="o">/</span><span class="mf">0.585</span><span class="p">):</span> <span class="mi">115</span><span class="o">-</span><span class="mi">117</span>

<span class="n">Loss</span> <span class="n">examples</span><span class="p">:</span>
  <span class="mi">12</span><span class="o">/</span><span class="mi">22</span><span class="o">/</span><span class="mi">2017</span> <span class="n">WAS</span><span class="p">(</span><span class="mi">17</span><span class="n">th</span><span class="o">/</span><span class="mf">0.524</span><span class="p">)</span> <span class="o">@</span> <span class="n">BKN</span><span class="p">(</span><span class="mi">23</span><span class="n">rd</span><span class="o">/</span><span class="mf">0.341</span><span class="p">):</span> <span class="mi">84</span><span class="o">-</span><span class="mi">119</span>

<span class="n">Where</span> <span class="n">the</span> <span class="mi">30</span><span class="n">th</span> <span class="ow">is</span> <span class="n">the</span> <span class="n">rank</span> <span class="ow">and</span> <span class="mf">0.244</span> <span class="ow">is</span> <span class="n">the</span> <span class="n">team</span> <span class="n">percentage</span><span class="p">;</span> <span class="mi">115</span><span class="o">-</span><span class="mi">117</span> <span class="ow">is</span> <span class="n">the</span> <span class="n">score</span><span class="o">.</span>

<span class="n">But</span> <span class="n">there</span> <span class="n">can</span> <span class="n">be</span> <span class="n">many</span> <span class="n">wins</span> <span class="ow">and</span> <span class="n">losses</span><span class="p">,</span> <span class="n">so</span> <span class="n">only</span> <span class="n">show</span> <span class="n">up</span> <span class="n">to</span> <span class="mi">10</span> <span class="n">wins</span> <span class="ow">and</span> <span class="mi">4</span> <span class="n">losses</span><span class="o">.</span>
<span class="n">Note</span><span class="p">,</span> <span class="n">each</span> <span class="n">game</span> <span class="n">data</span> <span class="n">point</span> <span class="n">has</span> <span class="n">a</span> <span class="s1">&#39;game_id&#39;</span> <span class="n">field</span><span class="o">.</span> <span class="n">Use</span> <span class="n">that</span> <span class="n">to</span> <span class="n">make</span> <span class="n">the</span> <span class="n">hyperlink</span>
<span class="n">that</span> <span class="n">when</span> <span class="n">clicked</span> <span class="n">brings</span> <span class="n">you</span> <span class="n">to</span> <span class="n">www</span><span class="o">.</span><span class="n">nba</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">games</span><span class="o">/</span><span class="p">{</span><span class="n">game_id</span><span class="p">}</span>
</pre></div>
</div>
<p>And it thought about it for a few minutes and created the hover boxes for the data
points pretty much on the very first try. After 3 or 4 more prompts, I had it styled,
with the outline of the hover box matching the line color and other fussy odds and
ends. Didn’t even look at the HTML or CSS once.</p>
<p>Then, once I had the <a class="reference internal" href="#creating-the-interactive-dashboard"><span class="std std-ref">main statistical fitting and data processing code translated
from Python to JavaScript</span></a>, I basically asked it
to create a Bootstrap UI form to match the fields in the main API function call and had
this working very quickly, again without looking much at the generated UI code.</p>
<p>There were many things in this project where I was surprised how well it performed with
minimal or even downright bad specification inputs, with some caveats. Once I had the
dashboard form up and running, I wanted to persist it using a URL coding scheme to
create shareable links. I barely sketched out a spec like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">We</span> <span class="n">need</span> <span class="n">to</span> <span class="n">store</span> <span class="n">the</span> <span class="n">state</span> <span class="n">of</span> <span class="n">the</span> <span class="n">form</span> <span class="n">whether</span> <span class="n">we</span> <span class="n">press</span> <span class="n">calculate</span> <span class="ow">or</span> <span class="n">cancel</span><span class="p">,</span>
<span class="n">the</span> <span class="n">form</span> <span class="n">values</span> <span class="ow">and</span> <span class="n">URL</span> <span class="n">always</span> <span class="n">persist</span><span class="o">.</span>

<span class="n">p</span><span class="o">=&lt;</span><span class="n">plot_type</span><span class="p">:</span><span class="n">values</span> <span class="mi">0</span><span class="o">-</span><span class="mi">4</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">time</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">percent_one</span><span class="o">&gt;</span><span class="n">_</span><span class="o">&lt;</span><span class="n">percent_two</span><span class="o">&gt;</span><span class="n">_</span><span class="o">...</span>
<span class="o">&amp;</span><span class="n">s</span><span class="o">=</span><span class="p">{</span><span class="n">season_one</span><span class="p">}</span><span class="o">+</span><span class="p">{</span><span class="n">season_two</span><span class="p">}</span>
<span class="o">&amp;</span><span class="n">g</span><span class="o">=</span><span class="p">{</span><span class="n">game_filter_one</span><span class="p">}</span><span class="o">+</span><span class="p">{</span><span class="n">game_filter_two</span><span class="p">}</span>

<span class="n">where</span> <span class="n">season_one</span> <span class="ow">is</span> <span class="n">of</span> <span class="n">the</span> <span class="n">form</span> <span class="p">{</span><span class="n">year0</span><span class="p">},{</span><span class="n">year1</span><span class="p">},{</span><span class="n">B</span><span class="o">|</span><span class="n">R</span><span class="o">|</span><span class="n">P</span><span class="p">}</span> <span class="k">for</span> <span class="n">both</span> <span class="ow">or</span> <span class="n">regular</span> <span class="n">season</span>
<span class="ow">or</span> <span class="n">playoff</span><span class="o">.</span> <span class="n">The</span> <span class="n">game</span> <span class="nb">filter</span> <span class="ow">is</span> <span class="p">(</span><span class="n">Team</span><span class="o">|</span><span class="n">Rank</span><span class="o">|</span><span class="n">HomeStatus</span><span class="p">),(</span><span class="n">Team</span><span class="o">|</span><span class="n">Rank</span><span class="p">)</span>

<span class="n">Just</span> <span class="n">g</span><span class="o">=</span><span class="p">{</span><span class="n">for_team_field</span><span class="p">}</span><span class="o">-</span><span class="p">{</span><span class="n">home_away_field</span><span class="p">}</span><span class="o">-</span><span class="p">{</span><span class="n">vs_team_field</span><span class="p">}</span><span class="o">~</span><span class="p">{</span><span class="n">for_team_field</span><span class="p">}</span><span class="o">-</span>
<span class="p">{</span><span class="n">home_away_field</span><span class="p">}</span><span class="o">-</span><span class="p">{</span><span class="n">vs_team_field</span><span class="p">}</span>

<span class="n">That</span> <span class="n">example</span> <span class="n">shows</span> <span class="n">two</span> <span class="n">filters</span><span class="o">.</span> <span class="n">Also</span><span class="p">,</span> <span class="n">it</span> <span class="n">should</span> <span class="n">be</span> <span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="s1">&#39;h&#39;</span><span class="p">,</span> <span class="ow">or</span> <span class="s1">&#39;a&#39;</span> <span class="k">for</span> <span class="n">the</span> <span class="n">home</span>
<span class="n">away</span> <span class="n">field</span><span class="o">.</span> <span class="n">So</span> <span class="k">for</span> <span class="n">example</span><span class="p">,</span> <span class="k">if</span> <span class="n">we</span> <span class="n">had</span> <span class="n">BOS</span> <span class="n">at</span> <span class="n">home</span> <span class="n">playing</span> <span class="n">ANY</span><span class="p">,</span> <span class="n">we</span> <span class="n">would</span> <span class="n">have</span>
<span class="n">BOS</span><span class="o">-</span><span class="n">H</span><span class="o">-</span><span class="n">ANY</span><span class="o">.</span> <span class="n">That</span><span class="s1">&#39;s one game filter.</span>
</pre></div>
</div>
<p>I got this working fairly quickly without needing to look at how it was coded. However
(most likely because I started asking for multiple features at a time, something that
is not best practice) it introduced a very strange bug where it started plotting two
charts.</p>
<p>That got me back to the good URL encoding scheme. But the state of the form was still
not being stored correctly, and Claude had gone off and created a fairly complicated
storage mechanism. So I guided it with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span> <span class="n">that</span> <span class="n">worked</span> <span class="n">very</span> <span class="n">well</span><span class="o">.</span> <span class="n">Now</span><span class="p">,</span> <span class="n">we</span> <span class="n">have</span> <span class="n">a</span> <span class="n">URL</span> <span class="o">--</span> <span class="n">that</span> <span class="n">will</span> <span class="n">be</span> <span class="n">the</span> <span class="n">sole</span> <span class="n">state</span> <span class="n">of</span>
<span class="n">the</span> <span class="n">system</span><span class="o">.</span> <span class="n">Get</span> <span class="n">rid</span> <span class="n">of</span> <span class="n">the</span> <span class="n">other</span> <span class="n">state</span> <span class="n">mechanisms</span> <span class="ow">and</span> <span class="n">simply</span> <span class="n">store</span> <span class="n">that</span> <span class="n">string</span>
<span class="n">somewhere</span> <span class="n">accessible</span> <span class="n">once</span> <span class="n">formed</span><span class="o">.</span> <span class="n">Now</span><span class="p">,</span> <span class="n">when</span> <span class="n">we</span> <span class="n">load</span> <span class="n">the</span> <span class="n">form</span><span class="p">,</span> <span class="n">the</span> <span class="n">form</span> <span class="n">needs</span> <span class="n">to</span>
<span class="n">parse</span> <span class="n">the</span> <span class="n">URL</span> <span class="n">string</span> <span class="ow">and</span> <span class="nb">set</span> <span class="n">up</span> <span class="n">the</span> <span class="n">form</span> <span class="n">accordingly</span><span class="o">.</span> <span class="n">It</span> <span class="n">needs</span> <span class="n">to</span> <span class="n">add</span> <span class="n">a</span> <span class="n">row</span> <span class="k">for</span>
<span class="n">every</span> <span class="n">season</span> <span class="nb">range</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">URL</span> <span class="ow">and</span> <span class="n">the</span> <span class="n">game</span> <span class="nb">filter</span><span class="p">,</span> <span class="nb">set</span> <span class="n">up</span> <span class="n">the</span> <span class="n">plot</span> <span class="n">types</span><span class="p">,</span> <span class="n">minutes</span><span class="p">,</span>
<span class="nb">set</span> <span class="n">the</span> <span class="n">percent</span> <span class="n">box</span><span class="p">,</span> <span class="n">etc</span><span class="o">.</span> <span class="n">If</span> <span class="n">there</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">URL</span> <span class="n">string</span> <span class="p">(</span><span class="n">either</span> <span class="n">created</span> <span class="n">by</span> <span class="n">us</span> <span class="ow">or</span> <span class="n">the</span>
<span class="n">user</span> <span class="n">gave</span> <span class="n">us</span> <span class="n">a</span> <span class="n">URL</span> <span class="n">string</span><span class="p">)</span> <span class="n">we</span> <span class="n">need</span> <span class="n">to</span> <span class="n">parse</span> <span class="n">it</span> <span class="ow">and</span> <span class="nb">set</span> <span class="n">the</span> <span class="n">form</span> <span class="n">up</span> <span class="n">when</span> <span class="n">we</span> <span class="n">hit</span>
<span class="s1">&#39;Calculate&#39;</span> <span class="o">--</span> <span class="n">the</span> <span class="n">sole</span> <span class="n">state</span> <span class="n">should</span> <span class="n">be</span> <span class="n">this</span> <span class="n">URL</span> <span class="n">string</span><span class="o">.</span>
</pre></div>
</div>
<p>And that worked – and it clearly updated the CLAUDE.md about the singularity of the
URL state.</p>
<p>But this led to a complex bug of the chart being duplicated. And now I was paying a
price for not understanding the code Claude was generating along the way. After some
trouble and having to revert the code more than once, I got it working, but this is for
sure a case where it would have been easier to get involved early and not try to prompt
my way to a solution.</p>
</section>
<section id="creating-the-interactive-dashboard-via-python-to-javascript-translation">
<span id="creating-the-interactive-dashboard"></span><h2><a class="toc-backref" href="#id5" role="doc-backlink">Creating the Interactive Dashboard Via Python To JavaScript Translation</a><a class="headerlink" href="#creating-the-interactive-dashboard-via-python-to-javascript-translation" title="Link to this heading">#</a></h2>
<p>A major idea when I started this was to:</p>
<ul class="simple">
<li><p>First create Python files that could process all the NBA play-by-play game data, do
all the statistical fitting, and make JSON chart files that could be read in by the
chart.js codebase.</p></li>
<li><p>Have Claude convert these files into JavaScript to implement the <a class="reference internal" href="../dashboard/index.html"><span class="doc">interactive
dashboard</span></a>.</p></li>
</ul>
<p>Mostly this worked great and had it all working in a relatively short time frame. There
were bumps and many missteps though.</p>
<section id="first-translation">
<h3>First Translation<a class="headerlink" href="#first-translation" title="Link to this heading">#</a></h3>
<p>My first mistake was the majority of the Python code was in one rather largish file and
it really could have been cleaned up. So my first naive attempt at translating this
didn’t look great, not to mention Claude didn’t even want to read in the Python file as
a whole due to size.</p>
<p>So, instead, I broke up the file into four smaller files and had Claude cleanup the
files, rename bad variable names, add docstrings and comments as best it could. Then I
fed these four files into Claude and had it take a crack at it.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Let</span><span class="s1">&#39;s try this Python to JavaScript translation again.</span>

<span class="n">Currently</span><span class="p">,</span> <span class="n">we</span> <span class="n">have</span> <span class="n">the</span> <span class="n">working</span> <span class="n">js</span><span class="o">/</span><span class="n">nbacd_chart_loader</span><span class="o">.</span><span class="n">js</span> <span class="ow">and</span> <span class="n">js</span><span class="o">/</span><span class="n">nbacd_plotter_</span><span class="o">*.</span><span class="n">js</span> <span class="n">files</span>
<span class="n">that</span> <span class="n">can</span> <span class="n">load</span> <span class="n">the</span> <span class="n">JSON</span> <span class="n">data</span> <span class="kn">from</span> <span class="nn">_static</span><span class="o">/</span><span class="n">json</span><span class="o">/</span><span class="n">charts</span><span class="o">/*</span> <span class="ow">and</span> <span class="n">plot</span> <span class="n">the</span> <span class="n">charts</span><span class="o">.</span>

<span class="n">Now</span> <span class="n">we</span> <span class="n">need</span> <span class="n">to</span> <span class="n">add</span> <span class="n">a</span> <span class="n">new</span> <span class="s1">&#39;dashboard&#39;</span> <span class="n">feature</span> <span class="n">that</span> <span class="n">will</span> <span class="n">provide</span> <span class="n">a</span> <span class="n">UI</span> <span class="n">to</span> <span class="n">select</span> <span class="n">plot</span>
<span class="n">options</span><span class="o">.</span> <span class="n">You</span> <span class="n">have</span> <span class="n">added</span> <span class="n">the</span> <span class="n">start</span> <span class="n">of</span> <span class="n">this</span> <span class="n">bootstrap</span> <span class="n">UI</span> <span class="ow">in</span> <span class="n">the</span>
<span class="n">js</span><span class="o">/</span><span class="n">nbacd_dashboard_ui</span><span class="o">.</span><span class="n">js</span> <span class="n">file</span> <span class="ow">and</span> <span class="n">it</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">good</span> <span class="n">start</span><span class="o">.</span>

<span class="n">Now</span> <span class="n">we</span> <span class="n">need</span> <span class="n">to</span> <span class="n">add</span> <span class="n">the</span> <span class="n">core</span> <span class="n">logic</span> <span class="n">that</span> <span class="n">will</span> <span class="n">process</span> <span class="n">this</span> <span class="n">form</span><span class="p">,</span> <span class="n">create</span> <span class="n">the</span> <span class="n">JSON</span> <span class="n">data</span>
<span class="ow">and</span> <span class="n">then</span> <span class="n">feed</span> <span class="n">this</span> <span class="n">JSON</span> <span class="n">data</span> <span class="n">to</span> <span class="n">the</span> <span class="n">chart</span> <span class="n">loader</span> <span class="ow">and</span> <span class="n">plotter</span> <span class="p">(</span><span class="n">instead</span> <span class="n">of</span> <span class="n">reading</span> <span class="n">the</span>
<span class="n">JSON</span> <span class="n">data</span> <span class="kn">from</span> <span class="nn">the</span> <span class="n">_static</span><span class="o">/</span><span class="n">json</span><span class="o">/</span><span class="n">charts</span><span class="o">/*</span> <span class="n">directory</span><span class="p">)</span><span class="o">.</span>

<span class="n">The</span> <span class="n">core</span> <span class="n">Python</span> <span class="n">files</span> <span class="n">that</span> <span class="n">need</span> <span class="n">to</span> <span class="n">be</span> <span class="n">translated</span> <span class="n">are</span> <span class="n">located</span> <span class="n">at</span>
<span class="o">../../../</span><span class="n">nba_python_data</span><span class="o">/</span><span class="n">form_plots</span><span class="o">/</span><span class="n">form_nba_chart_json_data</span><span class="o">/</span>

<span class="n">We</span> <span class="n">need</span> <span class="n">to</span> <span class="n">translate</span> <span class="n">each</span> <span class="n">file</span> <span class="n">here</span> <span class="n">to</span> <span class="n">JavaScript</span> <span class="ow">and</span> <span class="n">be</span> <span class="n">named</span>
<span class="n">form_nba_chart_json_data_api</span><span class="o">.</span><span class="n">py</span> <span class="o">-&gt;</span> <span class="n">js</span><span class="o">/</span><span class="n">nbacd_dashboard_api</span><span class="o">.</span><span class="n">js</span>
<span class="n">form_nba_chart_json_data_num</span><span class="o">.</span><span class="n">py</span> <span class="o">-&gt;</span> <span class="n">js</span><span class="o">/</span><span class="n">nbacd_dashboard_num</span><span class="o">.</span><span class="n">js</span>

<span class="n">etc</span><span class="o">.</span>

<span class="n">The</span> <span class="n">form_nba_chart_json_data_num</span><span class="o">.</span><span class="n">py</span> <span class="n">uses</span> <span class="n">scipy</span> <span class="ow">and</span> <span class="n">numpy</span> <span class="ow">and</span> <span class="n">we</span> <span class="n">will</span> <span class="n">need</span> <span class="n">to</span> <span class="n">use</span>
<span class="n">Math</span><span class="o">.</span><span class="n">js</span> <span class="ow">and</span> <span class="n">replicate</span> <span class="nb">all</span> <span class="n">the</span> <span class="n">functionality</span> <span class="n">of</span> <span class="n">this</span> <span class="n">Python</span> <span class="n">file</span><span class="o">.</span> <span class="n">You</span> <span class="n">already</span> <span class="n">tried</span>
<span class="n">once</span> <span class="n">at</span> <span class="o">../../../</span><span class="n">nba_python_data</span><span class="o">/</span><span class="n">old</span><span class="o">/</span><span class="n">js</span><span class="o">/</span><span class="n">nbacd_dashboard_core</span><span class="o">.</span><span class="n">js</span> <span class="o">--</span> <span class="n">you</span> <span class="n">can</span> <span class="n">use</span> <span class="n">this</span>
<span class="n">file</span> <span class="k">as</span> <span class="n">a</span> <span class="n">reference</span><span class="o">.</span>

<span class="n">However</span><span class="p">,</span> <span class="n">this</span> <span class="n">time</span> <span class="n">we</span> <span class="n">need</span> <span class="n">to</span> <span class="n">translate</span> <span class="nb">all</span> <span class="n">of</span> <span class="n">the</span> <span class="n">logic</span> <span class="n">found</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">four</span> <span class="n">Python</span>
<span class="n">files</span> <span class="ow">in</span> <span class="o">../../../</span><span class="n">nba_python_data</span><span class="o">/</span><span class="n">form_plots</span><span class="o">/</span><span class="n">form_nba_chart_json_data</span><span class="o">/</span>

<span class="n">The</span> <span class="n">key</span> <span class="n">classes</span><span class="o">/</span><span class="n">functions</span> <span class="n">to</span> <span class="n">translate</span> <span class="n">are</span><span class="p">:</span>

<span class="n">plot_biggest_down_or_more</span> <span class="n">plot_percent_chance_time_vs_points_down</span> <span class="n">GameFilter</span>
</pre></div>
</div>
<p>Those results were better, but still not perfect, so I doubled down on the mission
again with these prompts. I found the results improved dramatically when I asked for an
<em>exact</em> translation:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">We</span> <span class="n">want</span> <span class="n">an</span> <span class="o">*</span><span class="n">exact</span><span class="o">*</span> <span class="n">translation</span> <span class="n">of</span> <span class="n">the</span> <span class="n">Python</span> <span class="n">files</span> <span class="ow">in</span>
<span class="o">../../../</span><span class="n">nba_python_data</span><span class="o">/</span><span class="n">form_plots</span><span class="o">/</span><span class="n">form_nba_chart_json_data</span><span class="o">/.</span> <span class="n">Re</span><span class="o">-</span><span class="n">read</span> <span class="n">them</span> <span class="ow">and</span> <span class="n">check</span>
<span class="n">that</span> <span class="n">your</span> <span class="n">implementation</span> <span class="n">works</span> <span class="n">exactly</span> <span class="n">like</span> <span class="n">those</span> <span class="n">files</span><span class="o">.</span> <span class="n">We</span> <span class="n">don</span><span class="s1">&#39;t need to do any</span>
<span class="n">checking</span> <span class="k">for</span> <span class="n">defaults</span> <span class="ow">or</span> <span class="n">unnecessary</span> <span class="n">error</span> <span class="n">checking</span><span class="o">.</span> <span class="n">The</span> <span class="n">goal</span> <span class="n">here</span> <span class="ow">is</span> <span class="n">a</span> <span class="mi">1</span> <span class="n">to</span> <span class="mi">1</span>
<span class="n">translation</span><span class="o">.</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Your</span> <span class="n">starting</span> <span class="n">implementation</span> <span class="n">of</span> <span class="n">js</span><span class="o">/</span><span class="n">nbacd_dashboard_season_game_loader</span><span class="o">.</span><span class="n">js</span> <span class="ow">is</span> <span class="n">good</span><span class="o">.</span>
<span class="n">However</span><span class="p">,</span> <span class="n">we</span> <span class="n">want</span> <span class="n">a</span> <span class="mi">1</span> <span class="n">to</span> <span class="mi">1</span> <span class="n">direct</span> <span class="n">translation</span> <span class="n">of</span>
<span class="o">../../../</span><span class="n">nba_python_data</span><span class="o">/</span><span class="n">form_plots</span><span class="o">/</span><span class="n">form_nba_chart_json_data</span><span class="o">/</span><span class="n">form_nba_chart_json_data_season_game_loader</span><span class="o">.</span><span class="n">py</span><span class="o">.</span>
<span class="n">Ensure</span> <span class="n">that</span> <span class="n">your</span> <span class="n">translation</span> <span class="ow">is</span> <span class="mi">1</span> <span class="n">to</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">do</span> <span class="ow">not</span> <span class="n">add</span> <span class="nb">any</span> <span class="n">additional</span> <span class="n">error</span> <span class="n">checking</span> <span class="ow">or</span>
<span class="n">setting</span> <span class="n">defaults</span><span class="o">.</span> <span class="n">Update</span> <span class="n">the</span> <span class="n">CLAUDE</span><span class="o">.</span><span class="n">md</span> <span class="n">to</span> <span class="n">note</span> <span class="n">we</span> <span class="n">don</span><span class="s1">&#39;t want to add unnecessary error</span>
<span class="n">checking</span> <span class="ow">and</span> <span class="n">default</span> <span class="n">settings</span><span class="o">.</span> <span class="n">The</span> <span class="n">code</span> <span class="ow">is</span> <span class="n">correct</span> <span class="n">by</span> <span class="n">construction</span> <span class="ow">and</span> <span class="n">we</span> <span class="n">will</span> <span class="n">ensure</span>
<span class="n">the</span> <span class="n">UI</span> <span class="n">forms</span> <span class="n">will</span> <span class="n">only</span> <span class="n">provide</span> <span class="n">valid</span> <span class="n">values</span><span class="o">.</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">First</span><span class="p">,</span> <span class="n">rename</span> <span class="n">js</span><span class="o">/</span><span class="n">nbacd_dashboard_core</span><span class="o">.</span><span class="n">js</span> <span class="n">to</span> <span class="n">js</span><span class="o">/</span><span class="n">nbacd_dashboard_plot_primitives</span><span class="o">.</span><span class="n">js</span>
<span class="ow">and</span> <span class="n">make</span> <span class="n">sure</span> <span class="n">it</span> <span class="n">matches</span> <span class="n">form_nba_chart_json_data_plot_primitives</span><span class="o">.</span><span class="n">py</span> <span class="mi">1</span> <span class="n">to</span> <span class="mi">1</span> <span class="n">without</span>
<span class="nb">any</span> <span class="n">unnecessary</span> <span class="n">error</span> <span class="n">checking</span><span class="o">.</span> <span class="n">Then</span><span class="p">,</span> <span class="n">do</span> <span class="n">the</span> <span class="n">same</span> <span class="k">for</span> <span class="n">js</span><span class="o">/</span><span class="n">nbacd_dashboard_api</span><span class="o">.</span><span class="n">js</span> <span class="ow">and</span>
<span class="n">make</span> <span class="n">sure</span> <span class="n">it</span> <span class="n">matches</span> <span class="n">the</span> <span class="n">form_nba_chart_json_data_api</span><span class="o">.</span><span class="n">py</span> <span class="n">API</span><span class="o">.</span> <span class="n">Again</span><span class="p">,</span> <span class="n">we</span> <span class="n">are</span> <span class="n">trying</span> <span class="n">to</span>
<span class="k">match</span> <span class="n">the</span> <span class="n">exact</span> <span class="n">logic</span> <span class="n">of</span> <span class="n">the</span> <span class="n">Python</span> <span class="n">files</span><span class="p">,</span> <span class="n">just</span> <span class="n">making</span> <span class="n">it</span> <span class="n">work</span> <span class="ow">in</span> <span class="n">JavaScript</span> <span class="k">for</span> <span class="n">our</span>
<span class="n">webpage</span><span class="o">.</span>
</pre></div>
</div>
<p>Now we were, in hindsight, 90% of the way there and, after a few spot checks, could
tell we were onto a solid translation.</p>
<p>The four key Python modules that were translated into equivalent JavaScript files are:</p>
<div class="pst-scrollable-table-container"><table class="table">
<colgroup>
<col style="width: 60.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Python Module (in form_nba_chart_json_data_api/)</p></th>
<th class="head"><p>JavaScript Equivalent</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference external" href="https://github.com/nba-comeback-dashboard/nba-comeback-dashboard/tree/main/python_backend/form_json_chart_data/form_nba_chart_json_data_api/form_nba_chart_json_data_api.py">form_nba_chart_json_data_api.py</a></p></td>
<td><p><a class="reference external" href="https://github.com/nba-comeback-dashboard/nba-comeback-dashboard/tree/main/docs/frontend/source/_static/js/nbacd_dashboard_api.js">nbacd_dashboard_api.js</a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="https://github.com/nba-comeback-dashboard/nba-comeback-dashboard/tree/main/python_backend/form_json_chart_data/form_nba_chart_json_data_api/form_nba_chart_json_data_num.py">form_nba_chart_json_data_num.py</a></p></td>
<td><p><a class="reference external" href="https://github.com/nba-comeback-dashboard/nba-comeback-dashboard/tree/main/docs/frontend/source/_static/js/nbacd_dashboard_num.js">nbacd_dashboard_num.js</a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="https://github.com/nba-comeback-dashboard/nba-comeback-dashboard/tree/main/python_backend/form_json_chart_data/form_nba_chart_json_data_api/form_nba_chart_json_data_plot_primitives.py">form_nba_chart_json_data_plot_primitives.py</a></p></td>
<td><p><a class="reference external" href="https://github.com/nba-comeback-dashboard/nba-comeback-dashboard/tree/main/docs/frontend/source/_static/js/nbacd_dashboard_plot_primitives.js">nbacd_dashboard_plot_primitives.js</a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="https://github.com/nba-comeback-dashboard/nba-comeback-dashboard/tree/main/python_backend/form_json_chart_data/form_nba_chart_json_data_api/form_nba_chart_json_data_season_game_loader.py">form_nba_chart_json_data_season_game_loader.py</a></p></td>
<td><p><a class="reference external" href="https://github.com/nba-comeback-dashboard/nba-comeback-dashboard/tree/main/docs/frontend/source/_static/js/nbacd_dashboard_season_game_loader.js">nbacd_dashboard_season_game_loader.js</a></p></td>
</tr>
</tbody>
</table>
</div>
<p>To be clear, this still did not work out of the box, <em>many</em> bugs (50?) to squash one by
one using the <code class="docutils literal notranslate"><span class="pre">debugger;</span></code> and a Javascript console.</p>
<p>For example it created this code:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">const</span> <span class="n">times</span> <span class="o">=</span> <span class="p">[];</span>
<span class="k">for</span> <span class="p">(</span><span class="n">let</span> <span class="n">t</span> <span class="o">=</span> <span class="n">start_time</span><span class="p">;</span> <span class="n">t</span> <span class="o">&gt;=</span> <span class="n">stop_time</span><span class="p">;</span> <span class="n">t</span><span class="o">--</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">times</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="n">t</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>when the equivalent Python code was <code class="docutils literal notranslate"><span class="pre">range(start_time,</span> <span class="pre">stop_time,</span> <span class="pre">-1)</span></code>.  This is off
by 1, leading to t being 0 in the JavaScript case, creating a really hard to pin down
bug.</p>
<p>Also, for some reason, it made a bunch of JavaScript namespaces like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">Use</span> <span class="n">a</span> <span class="n">module</span> <span class="n">pattern</span> <span class="n">to</span> <span class="n">avoid</span> <span class="n">polluting</span> <span class="n">the</span> <span class="k">global</span> <span class="n">namespace</span><span class="o">.</span>
<span class="o">//</span> <span class="n">But</span> <span class="n">also</span> <span class="n">make</span> <span class="n">it</span> <span class="n">available</span> <span class="n">globally</span> <span class="k">for</span> <span class="n">other</span> <span class="n">modules</span>
<span class="n">const</span> <span class="n">nbacd_utils</span> <span class="o">=</span> <span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
</pre></div>
</div>
<p>But then it didn’t use the namespace in the calls in many random places, leading me to
have to figure out one by one which namespace I needed to call (I did also have some
success getting Claude to fix a few too, but it was a whack-a-mole experience).</p>
<p>Finally I knew the SciPy/NumPy parts were going to be tricky, so I spent some time
separating out those functions into their own Python file and rewriting some algorithms
using primitives I knew were available in Math.js. However, the scipy.optimize.minimize
proved a problem.</p>
<p>Initially, Claude created a custom fmin minimization algorithm, but it didn’t work at
all. After trying the numeric.js libs and a few others, I finally stumbled across this
<a class="reference external" href="https://robertleeread.medium.com/a-brief-bad-ignorant-review-of-existing-numerical-optimization-software-in-javascript-further-c70f68641fda">absolute banger of a rant about JavaScript numerical optimization</a>
which got me onto the <a class="reference external" href="https://github.com/benfred/fmin">fmin by Ben Frederickson</a>
library. Once I had that in place, plots finally started popping up on the page.</p>
</section>
<section id="major-refactor">
<h3>Major Refactor<a class="headerlink" href="#major-refactor" title="Link to this heading">#</a></h3>
<p>After having this working, I decided to add the ability to do sub 1 minute charts. This
required a fairly larger refactor of the python code, and I was curious how well Claude
could handle <em>updating</em> this translation.  One thing I’ve read is AI projects are good
for starting project or small things but get less useful later on.  And, overall, it
seemed to do the update almost as good as the main translation with a few more problems.</p>
<p>Once again, I had to remind Claude a few times that we were doing a 1 to 1 translation,
and we need to match the python functions exactly.  Some examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="n">We</span> <span class="n">are</span> <span class="n">very</span> <span class="n">close</span><span class="p">,</span> <span class="n">but</span> <span class="n">there</span> <span class="ow">is</span> <span class="n">some</span> <span class="n">bug</span> <span class="o">--</span> <span class="n">the</span> <span class="n">python</span> <span class="n">API</span> <span class="ow">and</span> <span class="n">javascript</span> <span class="n">API</span>
<span class="n">are</span> <span class="ow">not</span> <span class="n">returning</span> <span class="n">the</span> <span class="n">same</span> <span class="n">thing</span><span class="o">.</span>  <span class="n">Can</span> <span class="n">you</span> <span class="n">show</span> <span class="n">me</span> <span class="n">where</span> <span class="n">the</span> <span class="n">python</span> <span class="n">had</span> <span class="n">a</span> <span class="nb">range</span>
<span class="p">(</span><span class="n">itertator</span> <span class="n">that</span> <span class="n">you</span> <span class="n">changed</span> <span class="n">to</span> <span class="n">a</span> <span class="n">Javascript</span> <span class="n">loop</span><span class="o">.</span>  <span class="n">Often</span><span class="p">,</span> <span class="n">we</span> <span class="n">you</span> <span class="n">do</span> <span class="n">this</span> <span class="n">translation</span>
<span class="n">you</span> <span class="n">are</span> <span class="n">off</span> <span class="n">by</span> <span class="n">one</span><span class="o">.</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">The</span> <span class="n">python</span> <span class="n">defined</span> <span class="ow">in</span> <span class="n">_primitives</span><span class="o">.</span><span class="n">py</span> <span class="n">was</span> <span class="n">this</span><span class="p">:</span>

                  <span class="c1"># Determine the range of time to analyze</span>
                  <span class="n">start_index</span> <span class="o">=</span> <span class="n">TIME_TO_INDEX_MAP</span><span class="p">[</span><span class="n">start_time</span><span class="p">]</span>
                  <span class="n">stop_index</span> <span class="o">=</span> <span class="n">TIME_TO_INDEX_MAP</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># End of game</span>

                  <span class="c1"># Find the maximum deficit throughout the period</span>
                  <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">start_index</span><span class="p">,</span> <span class="n">stop_index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
                      <span class="n">time</span> <span class="o">=</span> <span class="n">GAME_MINUTES</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
                      <span class="n">point_margin_data</span> <span class="o">=</span> <span class="n">game</span><span class="o">.</span><span class="n">point_margin_map</span><span class="p">[</span><span class="n">time</span><span class="p">]</span>

                      <span class="c1"># For first time point, use the current margin</span>
                      <span class="k">if</span> <span class="n">index</span> <span class="o">==</span> <span class="n">start_index</span><span class="p">:</span>
                          <span class="n">min_point_margin</span> <span class="o">=</span> <span class="n">point_margin_data</span><span class="p">[</span><span class="s2">&quot;point_margin&quot;</span><span class="p">]</span>
                          <span class="n">max_point_margin</span> <span class="o">=</span> <span class="n">point_margin_data</span><span class="p">[</span><span class="s2">&quot;point_margin&quot;</span><span class="p">]</span>
                      <span class="k">else</span><span class="p">:</span>
                          <span class="c1"># For subsequent time points, use min/max values</span>
                          <span class="n">min_point_margin</span> <span class="o">=</span> <span class="n">point_margin_data</span><span class="p">[</span><span class="s2">&quot;min_point_margin&quot;</span><span class="p">]</span>
                          <span class="n">max_point_margin</span> <span class="o">=</span> <span class="n">point_margin_data</span><span class="p">[</span><span class="s2">&quot;max_point_margin&quot;</span><span class="p">]</span>

  <span class="n">The</span> <span class="n">javascript</span> <span class="n">does</span> <span class="ow">not</span> <span class="n">match</span> <span class="n">this</span> <span class="ow">in</span> <span class="n">js</span><span class="o">/</span><span class="n">nbacd_dashboard_plot_primitives</span><span class="o">.</span><span class="n">js</span>

  <span class="n">Why</span> <span class="n">did</span> <span class="n">you</span> <span class="n">make</span> <span class="n">this</span>                         <span class="n">const</span> <span class="n">array_index</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span> <span class="o">//</span> <span class="n">Use</span> <span class="n">the</span> <span class="n">index</span> <span class="n">directly</span>

  <span class="n">That</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">needed</span><span class="o">.</span>  <span class="n">Read</span> <span class="n">the</span> <span class="n">original</span> <span class="n">python</span> <span class="ow">and</span> <span class="n">do</span> <span class="n">a</span> <span class="n">better</span> <span class="n">translation</span><span class="o">.</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&gt; This is wrong translation:

            try {
                safe_fit_point = this.point_margins[10];
            } catch (error) {
                safe_fit_point = this.point_margins[this.point_margins.length - 1];
            }


In python, if point_margins is not big enough, it will raise an error.  However, in JS it will just return undefined.  Therefore, we need to check
that it is safe_fit_point = this.point_margins[10]; is undefined, then do the safe_fit_point = this.point_margins[this.point_margins.length - 1];

⏺ You&#39;re absolutely right. In JavaScript, accessing an array index that doesn&#39;t exist returns undefined rather than raising an exception like
  Python&#39;s IndexError. Let me fix that translation:
</pre></div>
</div>
<p>And then it did things like this in the translation:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>  <span class="n">const</span> <span class="n">points_down_line</span> <span class="o">=</span> <span class="n">new</span> <span class="n">PointsDownLine</span><span class="p">(</span>
    <span class="n">games</span><span class="p">,</span>
    <span class="n">game_filter</span><span class="p">,</span>
    <span class="n">current_time</span><span class="p">,</span>
    <span class="s2">&quot;at&quot;</span><span class="p">,</span> <span class="o">//</span> <span class="n">Use</span> <span class="s1">&#39;at&#39;</span> <span class="n">mode</span> <span class="k">for</span> <span class="n">time</span> <span class="n">points</span>
    <span class="n">null</span><span class="p">,</span> <span class="o">//</span> <span class="n">no</span> <span class="n">legend</span> <span class="n">needed</span>
    <span class="n">false</span><span class="p">,</span> <span class="o">//</span> <span class="n">cumulate</span>
    <span class="n">null</span><span class="p">,</span> <span class="o">//</span> <span class="n">min_point_margin</span>
    <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">//</span> <span class="n">max_point_margin</span>
<span class="p">);</span>
</pre></div>
</div>
<p>Which was clearly missing two fields from the Python, so I just manually fixed a few
issues like this myself:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>  <span class="n">const</span> <span class="n">points_down_line</span> <span class="o">=</span> <span class="n">new</span> <span class="n">PointsDownLine</span><span class="p">(</span>
    <span class="n">games</span><span class="p">,</span>
    <span class="n">game_filter</span><span class="p">,</span>
    <span class="n">current_time</span><span class="p">,</span>
    <span class="s2">&quot;at&quot;</span><span class="p">,</span> <span class="o">//</span> <span class="n">Use</span> <span class="s1">&#39;at&#39;</span> <span class="n">mode</span> <span class="k">for</span> <span class="n">time</span> <span class="n">points</span>
    <span class="n">null</span><span class="p">,</span> <span class="o">//</span> <span class="n">no</span> <span class="n">legend</span> <span class="n">needed</span>
    <span class="n">false</span><span class="p">,</span> <span class="o">//</span> <span class="n">cumulate</span>
    <span class="n">null</span><span class="p">,</span> <span class="o">//</span> <span class="n">min_point_margin</span>
    <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">//</span> <span class="n">max_point_margin</span>
    <span class="n">null</span><span class="p">,</span> <span class="o">//</span> <span class="n">fit_min_win_game_count</span>
    <span class="o">-</span><span class="mi">1</span> <span class="o">//</span> <span class="n">fit_max_points</span>
<span class="p">);</span>
</pre></div>
</div>
<p>But, lump sum, I think it mostly did a very good job of this process and saved me
considerable time doing a rather tedious translation.</p>
</section>
</section>
<section id="some-notes-thoughts">
<span id="id2"></span><h2><a class="toc-backref" href="#id6" role="doc-backlink">Some Notes / Thoughts</a><a class="headerlink" href="#some-notes-thoughts" title="Link to this heading">#</a></h2>
<p>Just some thoughts from this experience and, being a noob, these are more notes than
advice:</p>
<ul class="simple">
<li><p><strong>Claude’s memory is finicky</strong>:  Using the <code class="docutils literal notranslate"><span class="pre">CLAUDE.md</span></code> file and other .md files
to instruct Claude on how I wanted to code (e.g. less error handling, do exact 1 to 1
python to js translations, etc.) I was surprised how it would do this for a few
prompts and then stop doing it, and I had to remind it again.  Similarly, in another
project, I told it to record every prompt I gave it and write down the <code class="docutils literal notranslate"><span class="pre">/cost</span></code> in a
running .rst file so I could track how I put it together and the total cost.  It did
this for a while, and then stopped doing it, and over and over again I had to remind
it, leading it to write more emphatic instructions in the <code class="docutils literal notranslate"><span class="pre">CLAUDE.md</span></code> file not to
forget.</p></li>
<li><p><strong>Watch out for needless error handling</strong>: I found that Claude often wants to
add unnecessary and counterproductive error handling / logging / fallback code that
just causes more problems that are harder to debug and leads to bloated code. Again,
touching on the memory issue, that’s why <a class="reference external" href="https://github.com/nba-comeback-dashboard/nba-comeback-dashboard/blob/main/docs/frontend/source/_static/CLAUDE.md">in the CLAUDE.md file</a>
you’ll see many, many notes about error handling, over and over. It would be ok for
a while but would usually revert back to adding error handling code again, leading me to
tell it again not to do this.</p></li>
<li><p><strong>After a couple of tries, debug the error yourself</strong>: And this problem gets worse
and worse as you try to get Claude to solve a tough bug that it is not able to
solve. Here, I found it’s often better after a try or two to figure out what is
going on and directly guide the tool.</p></li>
<li><p><strong>Make sure you’re actually testing what you are asking Claude to fix</strong>: A combo of
the above points, I wasted more than a few dollars asking Claude to repeatedly fix
something it already had fixed by testing on a wrong URL. Then, it can get into a
real rabbit hole, creating piles of unnecessary logging, fallback code, and other
unnecessary attempts at trying to solve an unsolvable problem. To my amazement, one
time it even told me that most likely I wasn’t looking at the code it was changing.</p></li>
<li><p><strong>Commit, then ask for a single feature one at a time</strong>: I got into a flow where
every time before I asked for a feature, I would commit, ask, test, then (usually)
diff the change using <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">difftool</span></code>. If it was a mess, I would revert. Many
times I didn’t follow this advice, asking for multiple features at a time or not
committing changes and that’s when I would get into the most trouble. (Also, Claude
Code can commit for you, something I didn’t do much in an effort to save cost but
something I’m revisiting more in the future.)</p></li>
<li><p><strong>Use Claude to help write your requirements</strong>: Since the whole point is to save effort,
you’ll start to notice that typing all the .md files and prompts can take time, too.
So I did get into a habit of writing bad specs and giving bad prompts, asking Claude
to clean up and flesh out my requirements before writing code. I had good success
doing this more than a few times.</p></li>
</ul>
</section>
</section>


                </article>
              
              
              
              
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#using-claude-code-to-write-this-website">Using Claude Code to Write This Website</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#vibe-coding-the-front-end">Vibe Coding the Front End</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-the-interactive-dashboard-via-python-to-javascript-translation">Creating the Interactive Dashboard Via Python To JavaScript Translation</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#first-translation">First Translation</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#major-refactor">Major Refactor</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#some-notes-thoughts">Some Notes / Thoughts</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2025.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>